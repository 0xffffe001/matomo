<ul class="navbar">
    <li ng-repeat="category in menuModel.menu"
        class="menuTab"
        ng-class="{'active': category.active}">
        <a class="item"
           ng-href="#?{{ makeUrl(category,category.subcategories[0]) }}"
           ng-click="loadSubcategory(category, category.subcategories[0])">
            <span class="menu-icon {{ category.icon ? category.icon : 'icon-arrow-right' }}"></span>{{ category.name }}
            <span class="hidden">
             {{ 'CoreHome_Menu'|translate }}
           </span>
        </a>
        <ul>
            <li ng-repeat="subcategory in category.subcategories"
                ng-class="{'active': subcategory.active}">
                <div ng-if="subcategory.isGroup" piwik-menudropdown show-search="true" menu-title="{{ subcategory.name|escape }}">
                    <a class="item"
                       ng-repeat="subcat in subcategory.subcategories"
                       title="{{ subcat.tooltip }}"
                       ng-class="{'active': subcat.active}"
                       ng-href="#?{{ makeUrl(category,subcat) }}"
                       ng-click='loadSubcategory(category, subcat)'>
                        {{ subcat.name }}
                    </a>
                </div>

                <a ng-if="!subcategory.isGroup"
                   ng-href="#?{{ makeUrl(category,subcategory) }}"
                   class="item"
                   ng-click='loadSubcategory(category, subcategory)'>
                    {{ subcategory.name }}
                </a>
            </li>
        </ul>
    </li>
</ul>